(function(){var e;module.exports=e=function(){function e(e){this._client=null,this.validate(e)}return e._resource="Schema",e._model="Model",e.prototype.setField=function(e,t){return this[e]=t,this[e]},e.prototype.getField=function(e){return this[e]},e.prototype.validate=function(e){var t,r,n;n=[];for(t in e)r=e[t],n.push(this.setField(t,r));return n},e.prototype.stringify=function(){return JSON.stringify(this,this.replacer)},e.prototype.replacer=function(e,t){return"_client"===e||"_schema"===e||"_resource"===e||"_model"===e?void 0:t},e.prototype.query=function(e,t){var r,n,o;if(null===this._client)return void t("No authorization set for model, use authorize(), passing in a mojio _client where login() has been called successfully.",null);if(e instanceof Object){if(null==e.criteria){n="";for(r in e)o=e[r],n+=""+r+"="+o+";";e={criteria:n}}return this._client.request({method:"GET",resource:this.resource(),parameters:e},function(e){return function(r,n){return t(r,e._client.model(e.model(),n))}}(this))}return"string"==typeof e?this._client.request({method:"GET",resource:this.resource(),parameters:{id:e}},function(e){return function(r,n){return t(r,e._client.model(e.model(),n))}}(this)):t("criteria given is not in understood format, string or object.",null)},e.prototype.get=function(e,t){return this.query(e,t)},e.prototype.create=function(e){return null===this._client?void e("No authorization set for model, use authorize(), passing in a mojio _client where login() has been called successfully.",null):this._client.request({method:"POST",resource:this.resource(),body:this.stringify()},e)},e.prototype.post=function(e){return this.create(e)},e.prototype.save=function(e){return null===this._client?void e("No authorization set for model, use authorize(), passing in a mojio _client where login() has been called successfully.",null):this._client.request({method:"PUT",resource:this.resource(),body:this.stringify(),parameters:{id:this._id}},e)},e.prototype.put=function(e){return this.save(e)},e.prototype["delete"]=function(e){return this._client.request({method:"DELETE",resource:this.resource(),parameters:{id:this._id}},e)},e.prototype.observe=function(e,t,r,n){return null==t&&(t=null),this._client.observe(e,t,r,n)},e.prototype.unobserve=function(e,t,r,n){return null==t&&(t=null),this._client.observe(e,t,r,n)},e.prototype.store=function(e,t,r,n){return this._client.store(e,t,r,n)},e.prototype.storage=function(e,t,r){return this._client.storage(e,t,r)},e.prototype.unstore=function(e,t,r){return this._client.unstore(e,t,r)},e.prototype.statistic=function(e,t){return t(null,!0)},e.prototype.resource=function(){return this._resource},e.prototype.model=function(){return this._model},e.prototype.schema=function(){return this._schema},e.prototype.authorization=function(e){return this._client=e,this},e.prototype.id=function(){return this._id},e.prototype.mock=function(e,t){var r,n,o;null==t&&(t=!1),o=this.schema();for(r in o)if(n=o[r],"Type"===r)this.setField(r,this.model());else if("UserName"===r)this.setField(r,"Tester");else if("Email"===r)this.setField(r,"test@moj.io");else if("Password"===r)this.setField(r,"Password007!");else if("_id"!==r||t)switch(n){case"Integer":this.setField(r,"0");break;case"Boolean":this.setField(r,!1);break;case"String":this.setField(r,"test"+Math.random())}return this},e}()}).call(this);